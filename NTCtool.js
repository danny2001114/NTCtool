function $(t){let e=Array.from(document.querySelectorAll(t));return{elements:e,as:function(t=""){return this.elements.forEach((e,r,n)=>{const i=document.createElement(t);i.innerHTML=e.innerHTML,Array.from(e.attributes).forEach(t=>i.setAttribute(t.name,t.value)),i.setAttribute(e.tagName.toLowerCase(),""),n[r]=i,e.parentNode.replaceChild(i,e)}),this},insert(t=[""],e=1){this.elements.forEach(r=>{for(let n=0;n<e;n++)Array.isArray(t)?t.forEach(t=>r.appendChild(document.createElement(t))):r.innerHTML=t})},event:function(t="",e=function(){}){return this.elements.forEach(r=>r.addEventListener(t,e)),this},set:function(t=function(){}){return this.elements.forEach(t),this},only:function(t="",e=""){return this.elements=this.elements.filter(r=>r.getAttribute(t)===e),this},without:function(t="",e=""){return this.elements=this.elements.filter(r=>r.getAttribute(t)!==e),this},toggle:function(...t){const e="reverse"===t[t.length-1];return e&&t.pop(),this.elements.forEach(r=>{let n=parseInt(r.getAttribute("state")||"0",10);if(e){let e=r.getAttribute("direction")||"forward";"forward"===e?(n=(n+1)%t.length,0===n&&r.setAttribute("direction","backward")):(n=(n-1+t.length)%t.length,n===t.length-1&&r.setAttribute("direction","forward")),r.setAttribute("state",n),t[n]&&t[n](r),console.log("reverse")}else n=(n+1)%t.length,r.setAttribute("state",n),t[n]&&t[n](r),console.log("linear")}),this}}}